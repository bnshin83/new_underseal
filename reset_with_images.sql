DROP TABLE stda_CALCULATIONS CASCADE CONSTRAINTS;
DROP TABLE stda_DEFLECTIONS CASCADE CONSTRAINTS;
DROP TABLE stda_CALCULATED_DEFLECTIONS CASCADE CONSTRAINTS;
DROP TABLE stda_MISC CASCADE CONSTRAINTS;
DROP TABLE stda_MODULI_ESTIMATED CASCADE CONSTRAINTS;
DROP TABLE stda_STATS CASCADE CONSTRAINTS;
DROP TABLE stda_LONGLIST CASCADE CONSTRAINTS;
--DROP TABLE stda_LONGLIST_INFO CASCADE CONSTRAINTS;
DROP TABLE stda_IMG CASCADE CONSTRAINTS;

---------------------------------------------------------
---- STDA_longlist_info table
---------------------------------------------------------
--CREATE TABLE stda_LONGLIST_INFO(
--    LONGLIST_INFO_ID		NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
--    LONGLIST_NO 			NUMBER,
--    YEAR 					VARCHAR(4),
--    REQUEST_NO 				VARCHAR(100),
--    TEST_STATUS 			VARCHAR(255),
--    ROUTE 					VARCHAR(50),
--    RP_FROM 				VARCHAR(50),
--    RP_TO 					VARCHAR(50),
--    CONTRACT_NO 			VARCHAR(50),
--    DISTRICT 				VARCHAR(50),
--    TRAFFIC 				VARCHAR(200),
--    NAME 					VARCHAR(50),
--    TRAFFIC_CTRL            VARCHAR(200),
--    OPERATOR                VARCHAR(50),
--    OPERATOR_COMMENT        VARCHAR(2048),
--    DATE_REQ 				VARCHAR(200),
--    DATE_NEED 				VARCHAR(200),
--    COMMENTS 				VARCHAR(2048),
--	CREATED_USERID        	NUMBER(9)               NOT NULL,
--	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
--	UPDATED_USERID        	NUMBER(9)               NOT NULL,
--	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
--);
--
--
--COMMENT ON TABLE stda_LONGLIST_INFO IS 'Table to store Longlist information';
--COMMENT ON COLUMN stda_LONGLIST_INFO.LONGLIST_INFO_ID IS 'System-generated primary key.';
--COMMENT ON COLUMN stda_LONGLIST_INFO.CREATED_USERID IS 'Standard audit field.';
--COMMENT ON COLUMN stda_LONGLIST_INFO.CREATED_DATE IS 'Standard audit field.';
--COMMENT ON COLUMN stda_LONGLIST_INFO.UPDATED_USERID IS 'Standard audit field.';
--COMMENT ON COLUMN stda_LONGLIST_INFO.UPDATED_DATE IS 'Standard audit field.';
--COMMENT ON COLUMN stda_LONGLIST_INFO.LONGLIST_NO IS 'Store longlist number of request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.YEAR IS 'long list year';
--COMMENT ON COLUMN stda_LONGLIST_INFO.REQUEST_NO IS 'Store request number (from longlist) of request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.TEST_STATUS IS 'Stores status of test for request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.ROUTE IS 'Stores route of request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.RP_FROM IS 'Stores starting RP values for request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.RP_TO IS 'Stores ending RP values for request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.CONTRACT_NO IS 'Stores contract number for request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.DISTRICT IS 'Stores district name for request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.TRAFFIC IS 'Stores traffic values for request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.NAME IS 'Stores name of person associated with request';
--COMMENT ON COLUMN stda_LONGLIST_INFO.TRAFFIC_CTRL IS 'Stores date of the scheduled traffic control date';
--COMMENT ON COLUMN stda_LONGLIST_INFO.OPERATOR IS 'The name of the operator during FWD data collection';
--COMMENT ON COLUMN stda_LONGLIST_INFO.OPERATOR_COMMENT IS 'Comment from the operator';
--COMMENT ON COLUMN stda_LONGLIST_INFO.DATE_REQ IS 'Stores date the request was initiated';
--COMMENT ON COLUMN stda_LONGLIST_INFO.DATE_NEED IS 'Stores when request is needed';
--COMMENT ON COLUMN stda_LONGLIST_INFO.COMMENTS IS 'Stores comments associated with the request';
--    
--
--CREATE UNIQUE INDEX PK_STDA_LONGLIST_INFO ON stda_LONGLIST_INFO
--(LONGLIST_INFO_ID);
--
--ALTER TABLE stda_LONGLIST_INFO ADD (
--    CONSTRAINT UNIQUE_STDA_LONGLIST_INFO 
--    UNIQUE(LONGLIST_NO, YEAR));
--
--ALTER TABLE stda_LONGLIST_INFO ADD (
--  CONSTRAINT PK_STDA_LONGLIST_INFO
--  PRIMARY KEY
--  (LONGLIST_INFO_ID)
--  USING INDEX PK_STDA_LONGLIST_INFO
--  ENABLE VALIDATE);
-------------------------------------------------------
-- stda_longlist table
-------------------------------------------------------
CREATE TABLE stda_LONGLIST(
  LONGLIST_ID				NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
  LONGLIST_NO 			NUMBER,
    YEAR					VARCHAR2(4),
  DIRECTION 				VARCHAR2(50),
  LANE_INFO         VARCHAR2(50),
    PAVTYPE    VARCHAR2(10),
	F25_INFO				VARCHAR2(2000),				
	REPORT_DOC				VARCHAR2(2000),
	BEGIN_LATITUDE			NUMBER(22,10),
	END_LATITUDE			NUMBER(22,10),
	BEGIN_LONGITUDE			NUMBER(22,10),
	END_LONGITUDE			NUMBER(22,10),
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
);

COMMENT ON TABLE stda_LONGLIST IS 'Table to store Longlist information';
COMMENT ON COLUMN stda_LONGLIST.LONGLIST_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_LONGLIST.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_LONGLIST.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_LONGLIST.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_LONGLIST.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_LONGLIST.LONGLIST_NO IS 'Store longlist number of request';
COMMENT ON COLUMN stda_LONGLIST.YEAR IS 'long list year';
COMMENT ON COLUMN stda_LONGLIST.DIRECTION IS 'Direction.';
COMMENT ON COLUMN stda_LONGLIST.LANE_INFO IS 'lane info.';
COMMENT ON COLUMN stda_LONGLIST.PAVTYPE IS 'Pavement type for each direction could be different.';
COMMENT ON COLUMN stda_LONGLIST.F25_INFO IS 'Information extracted from the file name of F25 files.';
COMMENT ON COLUMN stda_LONGLIST.REPORT_DOC IS 'File name of the report ';
COMMENT ON COLUMN stda_LONGLIST.BEGIN_LATITUDE IS 'Latitude of the beginning point ';
COMMENT ON COLUMN stda_LONGLIST.END_LATITUDE IS 'Latitude of the ending point  ';
COMMENT ON COLUMN stda_LONGLIST.BEGIN_LONGITUDE IS 'Longtitude of the beginning point ';
COMMENT ON COLUMN stda_LONGLIST.END_LONGITUDE IS 'Longtitude of the ending point';


CREATE UNIQUE INDEX PK_STDA_LONGLIST ON stda_LONGLIST
(LONGLIST_ID);

ALTER TABLE stda_LONGLIST ADD (
    CONSTRAINT UNIQUE_STDA_LONGLIST 
    UNIQUE(YEAR, F25_INFO, LONGLIST_NO));

ALTER TABLE stda_LONGLIST  ADD (
  CONSTRAINT PK_STDA_LONGLIST
  PRIMARY KEY
  (LONGLIST_ID)
  USING INDEX PK_STDA_LONGLIST
  ENABLE VALIDATE);

---------------------------------------------------------------------
-- other tables that we have previously
---------------------------------------------------------------------
CREATE TABLE stda_CALCULATIONS(
    CALCULATIONS_ID 						NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID     NUMBER,
    POINT 					NUMBER,
    DROP_NO 				NUMBER,
    DEFLECTION_0 						DOUBLE PRECISION,
    DEFLECTION_1 						DOUBLE PRECISION,
    DEFLECTION_2 						DOUBLE PRECISION,
    DEFLECTION_3 						DOUBLE PRECISION,
    DEFLECTION_4 						DOUBLE PRECISION,
    DEFLECTION_5 						DOUBLE PRECISION,
    DEFLECTION_6 						DOUBLE PRECISION,
    DEFLECTION_7 						DOUBLE PRECISION,
    DEFLECTION_8 						DOUBLE PRECISION,
    DEFLECTION_9 						DOUBLE PRECISION,
    LOAD 					DOUBLE PRECISION,
    STRESS 					DOUBLE PRECISION,
    STRUCTURAL_NUMBER 						DOUBLE PRECISION,
    MODULUS_RESILIENCE 						DOUBLE PRECISION,
    INSITUCBR 				DOUBLE PRECISION,
    ASHTO_ESALS 				DOUBLE PRECISION,
    INDOT_ESALS 				DOUBLE PRECISION,
    LIMIT_ESALS 		DOUBLE PRECISION,
    INSITUMR 				DOUBLE PRECISION,
    LOG_SUBGRADE_DEFLECTION 					DOUBLE PRECISION,
    log_modulus_resilience 					DOUBLE PRECISION,
    E1_Layer1_psi 						DOUBLE PRECISION,
    E2_Layer2_psi 						DOUBLE PRECISION,
    E3_Layer3_psi 						DOUBLE PRECISION,
    E4_Layer4_psi 						DOUBLE PRECISION,
    E5_Layer5_psi 						DOUBLE PRECISION,
    K_VALUE 						DOUBLE PRECISION,
    RXN_SUBG 				DOUBLE PRECISION,
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
);


COMMENT ON TABLE stda_CALCULATIONS IS 'Table to store all calculations';
COMMENT ON COLUMN stda_CALCULATIONS.CALCULATIONS_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_CALCULATIONS.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATIONS.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATIONS.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATIONS.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATIONS.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_CALCULATIONS.POINT IS 'Stores point of testing';
COMMENT ON COLUMN stda_CALCULATIONS.DROP_NO IS 'Stores drop number of testing for point';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_0 IS 'Stores surface deflection for request';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_1 IS 'Stores deflection for sensor 1 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_2 IS 'Stores deflection for sensor 2 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_3 IS 'Stores deflection for sensor 3 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_4 IS 'Stores deflection for sensor 4 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_5 IS 'Stores deflection for sensor 5 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_6 IS 'Stores deflection for sensor 6 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_7 IS 'Stores deflection for sensor 7 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_8 IS 'Stores deflection for sensor 8 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.DEFLECTION_9 IS 'Stores deflection for sensor 9 during testing';
COMMENT ON COLUMN stda_CALCULATIONS.LOAD IS 'Stores load applied for testing';
COMMENT ON COLUMN stda_CALCULATIONS.STRESS IS 'Stores stress applied for testing';
COMMENT ON COLUMN stda_CALCULATIONS.STRUCTURAL_NUMBER IS 'Stores calculated structural number values';
COMMENT ON COLUMN stda_CALCULATIONS.MODULUS_RESILIENCE IS 'Stores calculated modulus of resilience values';
COMMENT ON COLUMN stda_CALCULATIONS.INSITUCBR IS 'Stores calculated in-situ CBR values';
COMMENT ON COLUMN stda_CALCULATIONS.ASHTO_ESALS IS 'Stores calculated aashto esals values';
COMMENT ON COLUMN stda_CALCULATIONS.INDOT_ESALS IS 'Stores calculated indot esals values';
COMMENT ON COLUMN stda_CALCULATIONS.LIMIT_ESALS IS 'Stores calculated limit aashto remaining esals values';
COMMENT ON COLUMN stda_CALCULATIONS.INSITUMR IS 'Stores calculated in-situ MR values';
COMMENT ON COLUMN stda_CALCULATIONS.LOG_SUBGRADE_DEFLECTION IS 'Stores calculated logarithms of subrade deflection values';
COMMENT ON COLUMN stda_CALCULATIONS.log_modulus_resilience IS 'Stores calculated logarithm of MR values';
COMMENT ON COLUMN stda_CALCULATIONS.E1_Layer1_psi IS 'Stores first column of elmod values (asphalt value)';
COMMENT ON COLUMN stda_CALCULATIONS.E2_Layer2_psi IS 'Stores second column of elmod values (concrete value)';
COMMENT ON COLUMN stda_CALCULATIONS.E3_Layer3_psi IS 'Stores third column of elmod values (middle layer value)';
COMMENT ON COLUMN stda_CALCULATIONS.E4_Layer4_psi IS 'Stores fourth column of elmod values (subgrade value)';
COMMENT ON COLUMN stda_CALCULATIONS.E5_Layer5_psi IS 'Stores fifth column of elmod values (newly added)';
COMMENT ON COLUMN stda_CALCULATIONS.K_VALUE IS 'Stores calculated K factor values';
COMMENT ON COLUMN stda_CALCULATIONS.RXN_SUBG IS 'Stores calculated reaction subgrade values';

ALTER TABLE stda_CALCULATIONS  ADD (
  CONSTRAINT PK_STDA_CALCULATIONS
  PRIMARY KEY
  (CALCULATIONS_ID),
  CONSTRAINT FK_STDA_CALCULATIONS
  FOREIGN KEY (LONGLIST_ID) 
  REFERENCES stda_LONGLIST(LONGLIST_ID)
  );



CREATE TABLE stda_DEFLECTIONS(
    DEFLECTIONS_ID 						NUMBER  GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID     NUMBER,
    CHAINAGE_FT 				NUMBER,
    TIME 					VARCHAR(50),
    SURFACE_TEMP 					DOUBLE PRECISION,
    DROP_NO 				NUMBER,
    STRESS 					DOUBLE PRECISION,
    LOAD 					NUMBER,
    DEFLECTION_1 						DOUBLE PRECISION,
    DEFLECTION_2 						DOUBLE PRECISION,
    DEFLECTION_3 						DOUBLE PRECISION,
    DEFLECTION_4 						DOUBLE PRECISION,
    DEFLECTION_5 						DOUBLE PRECISION,
    DEFLECTION_6 						DOUBLE PRECISION,
    DEFLECTION_7 						DOUBLE PRECISION,
    DEFLECTION_8 						DOUBLE PRECISION,
    DEFLECTION_9 						DOUBLE PRECISION,
    POINT 					NUMBER,
    AIR_TEMP 				DOUBLE PRECISION,
    GPSX 					DOUBLE PRECISION,
    GPSY 					DOUBLE PRECISION,
--    IMAGES 					VARCHAR(2000),
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
);			

COMMENT ON TABLE stda_DEFLECTIONS IS 'Table Deflection.';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTIONS_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_DEFLECTIONS.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_DEFLECTIONS.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_DEFLECTIONS.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_DEFLECTIONS.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_DEFLECTIONS.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_DEFLECTIONS.CHAINAGE_FT IS 'Stores chainage (feet) for point under test';
COMMENT ON COLUMN stda_DEFLECTIONS.TIME IS 'Stores time of testing';
COMMENT ON COLUMN stda_DEFLECTIONS.SURFACE_TEMP IS 'Stores surface temperature';
COMMENT ON COLUMN stda_DEFLECTIONS.POINT IS 'Stores point of testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DROP_NO IS 'Stores drop number of testing for point';
COMMENT ON COLUMN stda_DEFLECTIONS.STRESS IS 'Stores stress at point';
COMMENT ON COLUMN stda_DEFLECTIONS.LOAD IS 'Stores load at point';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_1 IS 'Stores deflection for sensor 1 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_2 IS 'Stores deflection for sensor 2 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_3 IS 'Stores deflection for sensor 3 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_4 IS 'Stores deflection for sensor 4 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_5 IS 'Stores deflection for sensor 5 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_6 IS 'Stores deflection for sensor 6 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_7 IS 'Stores deflection for sensor 7 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_8 IS 'Stores deflection for sensor 8 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.DEFLECTION_9 IS 'Stores deflection for sensor 9 during testing';
COMMENT ON COLUMN stda_DEFLECTIONS.AIR_TEMP IS 'Stores air temperature';
COMMENT ON COLUMN stda_DEFLECTIONS.GPSX IS 'Stores gps x values';
COMMENT ON COLUMN stda_DEFLECTIONS.GPSY IS 'Stores gps y values';
--COMMENT ON COLUMN stda_DEFLECTIONS.IMAGES IS 'Stores the image names';

ALTER TABLE stda_DEFLECTIONS  ADD (
  CONSTRAINT PK_STDA_DEFLECTIONS
  PRIMARY KEY
  (DEFLECTIONS_ID),
  CONSTRAINT FK_STDA_DEFLECTIONS
  FOREIGN KEY (LONGLIST_ID) 
  REFERENCES stda_LONGLIST(LONGLIST_ID)
  );


CREATE TABLE stda_CALCULATED_DEFLECTIONS(
    CALCULATED_DEFLECTIONS_ID						NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID     NUMBER,
    SECTION 				NUMBER,
    CALCULATION_NO 				NUMBER,
    DROP_NO 				NUMBER,
    POINT 					NUMBER,
    CORRECTED_DEFLECTION_1 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_2 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_3 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_4 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_5 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_6 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_7 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_8 					DOUBLE PRECISION,
    CORRECTED_DEFLECTION_9 					DOUBLE PRECISION,
    RMS 					DOUBLE PRECISION,
    BACK_TYPE 				NUMBER,
    STRESS_CORRECTED 		NUMBER,
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
 );

COMMENT ON TABLE stda_CALCULATED_DEFLECTIONS IS 'Table for calculated deflections';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CALCULATED_DEFLECTIONS_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.SECTION IS 'Stores section number being used';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CALCULATION_NO IS 'Stores calculation number value being used';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.POINT IS 'Stores point of testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.DROP_NO IS 'Stores drop number of testing for request';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_1 IS 'Stores corrected deflection for sensor 1 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_2 IS 'Stores corrected deflection for sensor 2 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_3 IS 'Stores corrected deflection for sensor 3 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_4 IS 'Stores corrected deflection for sensor 4 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_5 IS 'Stores corrected deflection for sensor 5 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_6 IS 'Stores corrected deflection for sensor 6 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_7 IS 'Stores corrected deflection for sensor 7 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_8 IS 'Stores corrected deflection for sensor 8 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.CORRECTED_DEFLECTION_9 IS 'Stores corrected deflection for sensor 9 during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.RMS IS 'Stores RMS values during testing';
COMMENT ON COLUMN stda_CALCULATED_DEFLECTIONS.BACK_TYPE IS 'Stores type of back calculation during testing';


ALTER TABLE stda_CALCULATED_DEFLECTIONS  ADD (
  CONSTRAINT PK_STDA_CALCULATED_DEFLECTIONS
  PRIMARY KEY
  (CALCULATED_DEFLECTIONS_ID),
  CONSTRAINT FK_STDA_CALCULATED_DEFLECTIONS
  FOREIGN KEY (LONGLIST_ID)
--  this line is added
  REFERENCES stda_LONGLIST(LONGLIST_ID)
  );


CREATE TABLE stda_MISC(
    MISC_ID 						NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID     NUMBER,
    SENSOR_1X 					DOUBLE PRECISION,
    SENSOR_1Y 					DOUBLE PRECISION,
    SENSOR_2X 					DOUBLE PRECISION,
    SENSOR_2Y 					DOUBLE PRECISION,
    SENSOR_3X 					DOUBLE PRECISION,
    SENSOR_3Y 					DOUBLE PRECISION,
    SENSOR_4X 					DOUBLE PRECISION,
    SENSOR_4Y 					DOUBLE PRECISION,
    SENSOR_5X 					DOUBLE PRECISION,
    SENSOR_5Y 					DOUBLE PRECISION,
    SENSOR_6X 					DOUBLE PRECISION,
    SENSOR_6Y 					DOUBLE PRECISION,
    SENSOR_7X 					DOUBLE PRECISION,
    SENSOR_7Y 					DOUBLE PRECISION,
    SENSOR_8X 					DOUBLE PRECISION,
    SENSOR_8Y 					DOUBLE PRECISION,
    SENSOR_9X 					DOUBLE PRECISION,
    SENSOR_9Y 					DOUBLE PRECISION,
    RADIUS 					DOUBLE PRECISION,
    TEMP_UNITS 				VARCHAR(20),
    PRESSURE_UNITS 			VARCHAR(20),
    DEFLECTION_UNITS 		VARCHAR(20),
    DISTANCE_UNITS 			VARCHAR(20),
    ROADTYPE 				VARCHAR(20),
    ESTIMATED_PSI 				DOUBLE PRECISION,
    BASELINE_ESALS 			DOUBLE PRECISION,
    ESAL_95_RELIABILITY 				DOUBLE PRECISION,
    ESAL_90_RELIABILITY 				DOUBLE PRECISION,
    ESAL_80_RELIABILITY 				DOUBLE PRECISION,
    D0_CRITERIA             DOUBLE PRECISION,
    SUBGRADE_CRITERIA       DOUBLE PRECISION,
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
);


COMMENT ON TABLE stda_MISC IS 'Table Misc.';
COMMENT ON COLUMN stda_MISC.MISC_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_MISC.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_MISC.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_MISC.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_MISC.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_MISC.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_MISC.SENSOR_1X IS 'X coordinate of sensor 1 location';
COMMENT ON COLUMN stda_MISC.SENSOR_2X IS 'X coordinate of sensor 2 location';
COMMENT ON COLUMN stda_MISC.SENSOR_3X IS 'X coordinate of sensor 3 location';
COMMENT ON COLUMN stda_MISC.SENSOR_4X IS 'X coordinate of sensor 4 location';
COMMENT ON COLUMN stda_MISC.SENSOR_5X IS 'X coordinate of sensor 5 location';
COMMENT ON COLUMN stda_MISC.SENSOR_6X IS 'X coordinate of sensor 6 location';
COMMENT ON COLUMN stda_MISC.SENSOR_7X IS 'X coordinate of sensor 7 location';
COMMENT ON COLUMN stda_MISC.SENSOR_8X IS 'X coordinate of sensor 8 location';
COMMENT ON COLUMN stda_MISC.SENSOR_9X IS 'X coordinate of sensor 9 location';
COMMENT ON COLUMN stda_MISC.SENSOR_1Y IS 'X coordinate of sensor 1 location';
COMMENT ON COLUMN stda_MISC.SENSOR_2Y IS 'X coordinate of sensor 2 location';
COMMENT ON COLUMN stda_MISC.SENSOR_3Y IS 'X coordinate of sensor 3 location';
COMMENT ON COLUMN stda_MISC.SENSOR_4Y IS 'X coordinate of sensor 4 location';
COMMENT ON COLUMN stda_MISC.SENSOR_5Y IS 'X coordinate of sensor 5 location';
COMMENT ON COLUMN stda_MISC.SENSOR_6Y IS 'X coordinate of sensor 6 location';
COMMENT ON COLUMN stda_MISC.SENSOR_7Y IS 'X coordinate of sensor 7 location';
COMMENT ON COLUMN stda_MISC.SENSOR_8Y IS 'X coordinate of sensor 8 location';
COMMENT ON COLUMN stda_MISC.SENSOR_9Y IS 'X coordinate of sensor 9 location';
COMMENT ON COLUMN stda_MISC.RADIUS IS 'Radius of plate';
COMMENT ON COLUMN stda_MISC.TEMP_UNITS IS 'Units of temperature used';
COMMENT ON COLUMN stda_MISC.PRESSURE_UNITS IS 'Units of pressure used';
COMMENT ON COLUMN stda_MISC.DEFLECTION_UNITS IS 'Units of deflection used';
COMMENT ON COLUMN stda_MISC.DISTANCE_UNITS IS 'Units of distance used';
COMMENT ON COLUMN stda_MISC.ROADTYPE IS 'Type of road being tested';
COMMENT ON COLUMN stda_MISC.ESTIMATED_PSI IS 'Estimated vale of PSI';
COMMENT ON COLUMN stda_MISC.BASELINE_ESALS IS 'Calculated value of baseline esals';
COMMENT ON COLUMN stda_MISC.ESAL_95_RELIABILITY IS '95% reliability value of ESALS';
COMMENT ON COLUMN stda_MISC.ESAL_90_RELIABILITY IS '90% reliability value of ESALS';
COMMENT ON COLUMN stda_MISC.ESAL_80_RELIABILITY IS '80% reliability value of ESALS';
COMMENT ON COLUMN stda_MISC.D0_CRITERIA IS 'Surface deflection criteria';
COMMENT ON COLUMN stda_MISC.SUBGRADE_CRITERIA IS 'Subgrade deflection criteria';




ALTER TABLE stda_MISC  ADD (
  CONSTRAINT PK_STDA_MISC
  PRIMARY KEY
  (MISC_ID),
  CONSTRAINT FK_STDA_MISC
  FOREIGN KEY (LONGLIST_ID) 
  REFERENCES stda_LONGLIST(LONGLIST_ID)
  );



CREATE TABLE stda_MODULI_ESTIMATED(
    MODULI_ESTIMATED_id 						NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID     NUMBER,
    DROP_NO 				NUMBER,
    POINT 					NUMBER,
    THICKNESS_1 						NUMBER,
    THICKNESS_2 						NUMBER,
    THICKNESS_3 						NUMBER,
    THICKNESS_4 						NUMBER,
    H_EQ_CON 				NUMBER,
    BEDROCK 				NUMBER,
    E1_Layer1_psi 						DOUBLE PRECISION,
    E2_Layer2_psi 						DOUBLE PRECISION,
    E3_Layer3_psi 						DOUBLE PRECISION,
    E4_Layer4_psi 						DOUBLE PRECISION,
    E5_Layer5_psi 						DOUBLE PRECISION,
    C 						DOUBLE PRECISION,
    n 						DOUBLE PRECISION,
    EMEAN 					DOUBLE PRECISION,
    RMS 					DOUBLE PRECISION,
    METHOD 					VARCHAR(20),
    FROM_DROP 				NUMBER,
    BACK_TYPE 				NUMBER,
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
);

COMMENT ON TABLE stda_MODULI_ESTIMATED IS 'Table Calc.';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.MODULI_ESTIMATED_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.POINT IS 'Stores point of testing';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.DROP_NO IS 'Stores drop number of testing for request';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.THICKNESS_1 IS 'Stores thickness of topmost layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.THICKNESS_2 IS 'Stores thickness of layer immediately below top layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.THICKNESS_3 IS 'Stores thickness of layer immediately below second layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.THICKNESS_4 IS 'Stores thickness of last';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.H_EQ_CON IS 'Stores h_eq_con of the MDE';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.BEDROCK IS 'Stores bedroc depth value of the MDE';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.E1_Layer1_psi IS 'Stores elmod values of top layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.E2_Layer2_psi IS 'Stores elmod values of second from top layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.E3_Layer3_psi IS 'Stores elmod values of third from top layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.E4_Layer4_psi IS 'Stores elmod values of fourth to top layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.E5_Layer5_psi IS 'Stores elmod values of fifth from top layer';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.C IS 'Stores C factor';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.n IS 'Stores n factor';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.Emean IS 'Stores Emean values';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.RMS IS 'Stores root mean square values';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.METHOD IS 'Stores method used';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.FROM_DROP IS 'Stores drop number used';
COMMENT ON COLUMN stda_MODULI_ESTIMATED.BACK_TYPE IS 'Stores type of back calculation used';


ALTER TABLE stda_MODULI_ESTIMATED  ADD (
  CONSTRAINT PK_STDA_MODULI_ESTIMATED
  PRIMARY KEY
  (MODULI_ESTIMATED_id)
  ,
  CONSTRAINT FK_STDA_MODULI_ESTIMATED
  FOREIGN KEY (LONGLIST_ID) 
  REFERENCES stda_LONGLIST(LONGLIST_ID)
  );



CREATE TABLE stda_STATS(
    STATS_ID 						NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID     NUMBER,
    COLUMN_NAME 				VARCHAR(20),
    MEAN 					DOUBLE PRECISION,
    STD_DEVIATION 					DOUBLE PRECISION,
    MAX 					DOUBLE PRECISION,
    MIN 					DOUBLE PRECISION,
    HARMONIC_MEAN 					DOUBLE PRECISION,
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL
);


COMMENT ON TABLE stda_STATS IS 'Table Calc.';
COMMENT ON COLUMN stda_STATS.STATS_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_STATS.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_STATS.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_STATS.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_STATS.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_STATS.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_STATS.COLUMN_NAME IS 'Column name for which stats is stored';
COMMENT ON COLUMN stda_STATS.MEAN IS 'Mean of column is stored';
COMMENT ON COLUMN stda_STATS.STD_DEVIATION IS 'Standard Deviation of column is stored';
COMMENT ON COLUMN stda_STATS.MAX IS 'Maximum of column is stored';
COMMENT ON COLUMN stda_STATS.MIN IS 'Minimum of column is stored';
COMMENT ON COLUMN stda_STATS.HARMONIC_MEAN IS 'Harmonic mean of column is stored';



ALTER TABLE stda_STATS  ADD (
  CONSTRAINT PK_STDA_STATS
  PRIMARY KEY
  (STATS_ID),
  CONSTRAINT FK_STDA_STATS
  FOREIGN KEY (LONGLIST_ID) 
  REFERENCES stda_LONGLIST(LONGLIST_ID)
  );
  
  -------------------------------------------------------
-- stda_img table
-------------------------------------------------------
CREATE TABLE stda_IMG(
    IMG_DMI_ID				NUMBER   GENERATED BY DEFAULT ON NULL AS IDENTITY ( START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE CACHE 20 NOORDER NOKEEP NOSCALE) NOT NULL,
    LONGLIST_ID             NUMBER,
    REQUEST_NO 				VARCHAR(100),
    DIRECTION 				VARCHAR2(50),
    CHAINAGE_FT                NUMBER,
    IMG_PATH				VARCHAR2(400),				
	CREATED_USERID        	NUMBER(9)               NOT NULL,
	CREATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
	UPDATED_USERID        	NUMBER(9)               NOT NULL,
	UPDATED_DATE          	DATE                    DEFAULT ON NULL SYSDATE       NOT NULL,
    LANE_TYPE				VARCHAR2(400)
);

COMMENT ON TABLE stda_IMG IS 'Table to store mapping relation between image filename and DMI information';
COMMENT ON COLUMN stda_IMG.IMG_DMI_ID IS 'System-generated primary key.';
COMMENT ON COLUMN stda_IMG.LONGLIST_ID IS 'Foreign key to ID of LONGLIST entry for request';
COMMENT ON COLUMN stda_IMG.REQUEST_NO IS 'Request number';
COMMENT ON COLUMN stda_IMG.DIRECTION IS 'Direction is the combination of direction and lane info.';
COMMENT ON COLUMN stda_IMG.CHAINAGE_FT IS 'Direction is the combination of direction and lane info.';
COMMENT ON COLUMN stda_IMG.IMG_PATH IS 'File path of the linked image';
COMMENT ON COLUMN stda_IMG.CREATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_IMG.CREATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_IMG.UPDATED_USERID IS 'Standard audit field.';
COMMENT ON COLUMN stda_IMG.UPDATED_DATE IS 'Standard audit field.';
COMMENT ON COLUMN stda_IMG.LANE_TYPE IS 'Lane type';

ALTER TABLE stda_IMG ADD (
    CONSTRAINT PK_STDA_IMG
    PRIMARY KEY
    (IMG_DMI_ID),
    CONSTRAINT FK_STDA_IMG
    FOREIGN KEY (LONGLIST_ID)
    REFERENCES stda_LONGLIST(LONGLIST_ID)
  );